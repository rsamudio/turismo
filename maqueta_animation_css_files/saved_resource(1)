var addsearch_suid = 'D27cubqpvB';// trapped in javascript factory, send help - jobs@addsearch.com
var addsearch_searchsettings = {"attributes":{"analytics_enabled":"false"},"title_prefix_filters":[],"title_suffix_filters":[],"category_aliases":[],"ignore_multi_language":true,"css_results_position":null};
var addsearch_i18n={results_none:"No search results! Showing results starting with",results_similar:"Results similar to",results_social:"Results from Social Media",results_web:"Results from the Website",month_arr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],date_now:"just now",date_1min:"1 minute ago",date_mins:"minutes ago",date_1hour:"1 hour ago",date_hours:"hours ago",date_yesterday:"Yesterday",date_days:"days ago",date_weeks:"weeks ago",mobilefield:"Search"},addsearch_html='<input type="text" autocomplete="off" name="addsearch-field-tab" title="Search results focused" id="addsearch-field-tab" onkeydown="return addsearch.tabKeydown(event);" onkeyup="addsearch.tabKeyup(event);" onfocus="addsearch.tabFocus(event);" style="width: 1px; height: 1px; border: none; position: absolute; margin: 5px 0 0 -10px; z-index: -100; outline: 0; background: none; padding: 0;" /><div id="addsearch-results-right" onmouseover="addsearch.setActiveResultItem(addsearch.activeResultItem);"><table id="addsearch-pic" style="display: none; float: left; margin: 12px 0 0 12px; border:none; border-collapse:collapse;"><tr><td id="addsearch-result-pic-td" class="addsearch-result-pic-td" style="width:100%;height:520px;overflow:hidden;vertical-align:middle; background: transparent url( ) no-repeat 50% 50%;"><div style="max-height:520px; overflow:hidden"><img src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="" id="addsearch-results-pic-img" style="width: 150px;" /></div><div id="addsearch-edit"></div></td></tr></table><div id="addsearch-scroll"><div id="addsearch-scroll-handle"></div></div></div><div id="addsearch-results-mid" onscroll="addsearch.scroll(this); return false;" onmousedown="addsearch.mousedown(this);" ontouchstart="addsearch.mousedown(this);"><div id="addsearch-result-item" style="display: none;"><div id="addsearch-result-item-i" class="addsearch-result-item-sub" onmouseover="addsearch.setActiveResultItem(this.id);" data-img=""><div><h1><a href="#" onclick="event.stopPropagation();" style="text-decoration: none;">$h1</a></h1><p>$hl</p></div></div></div><img src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style="display: none; margin: 10px 0 10px 270px;" id="addsearch-loading" alt="Loading.." /></div><div id="addsearch-results-bottom"><a href="http://www.addsearch.com/?utm_source=customer&utm_medium=referer&utm_campaign=customer" rel="nofollow" id="addsearch-logo" onclick="window.open(this.href); return false;"><img id="addsearch-logo-img" src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="AddSearch.com - Instant search for your website" /></a><a href="#" id="addsearch-closelink" style="float: right; padding-right: 8px; cursor: pointer;" onclick="addsearch.hideResults(); return false;" title="Close">X</a></div>',addsearch_social='<span class="bab_tw_actions" style="display: none;"> <a class="bab_tw_reply" href="https://twitter.com/intent/tweet?in_reply_to=$id" title="Reply"></a> <a class="bab_tw_retweet" href="https://twitter.com/intent/retweet?tweet_id=$id" title="Retweet"></a> <a class="bab_tw_favorite" href="https://twitter.com/intent/favorite?tweet_id=$id" title="Favorite"></a></span><span class="bab_account"> <a href="$accountlink" onclick="window.open(this.href); return false;"> <span class="bab_name">-</span> <span class="bab_tw_handle" style="display: none;">$handle</span> </a> <span class="bab_time"><a href="$permalink" onclick="window.open(this.href); return false;">-</a></span></span><span class="bab_tw_content"></span>',addsearch={version:"v2",initialized:!1,field:null,originalField:null,hostStats:"stats.addsearch.com",hostsCdn:["d20vwa69zln1wj.cloudfront.net"],firstFocusDone:!1,firstHoverDone:!1,firstKeystrokeDone:!1,loadingTimer:null,pauseDetectorTimeout:1e3,pauseDetectorTimer:null,nohitsTimeout:400,nohitsTimer:null,activeResultItem:0,resultDocs:new Array,terms:new Array,searchTerm:"",searchResultsTerm:"",categoryFilters:null,screenCaptureLoadingTimeout:800,screenCaptureLoadingTimer:null,startt:null,linkTarget:null,languages:["cs","da","de","en","es","et","fi","fr","ga","it","ja","ko","nb","nl","pt","ru","sv","zh"],init:function(){if(addsearch.initialized!=0)return;addsearch.initialized=!0;var e=document.getElementsByTagName("input"),t=!1,n=window.location.hash,r=null;n&&n.indexOf("addsearch=")!=-1&&n.indexOf(",f=")!=-1&&(r=n.substring(n.indexOf(",f=")+3));if(e&&e.length>0)for(var i=0;i<e.length;i++)if(e[i].getAttribute("data-addsearch-field")){e[i].setAttribute("autocomplete","off"),e[i].onclick=function(e){return addsearch.stopPropagation(e),!1},e[i].onmouseover=function(e){addsearch.over(e)},e[i].onfocus=function(e){addsearch.field=this,addsearch.focus()},e[i].onblur=function(e){addsearch.blur(e)},e[i].onkeyup=function(e){addsearch.keyup(e)},e[i].onkeydown=function(e){return addsearch.keydown(e)},e[i].style.cursor="auto",addsearch.getSettingAttribute("allow_parent_form_submit")==null&&(e[i].parentNode.tagName.toLowerCase()=="form"?e[i].parentNode.onsubmit=function(e){return!1}:e[i].parentNode.parentNode.tagName.toLowerCase()=="form"&&(e[i].parentNode.parentNode.onsubmit=function(e){return!1})),e[i].removeAttribute("disabled"),window.location.href.indexOf("addsearch.com/demo/")!=-1&&e[i].setAttribute("placeholder","Search");if(!e[i].getAttribute("data-addsearch-field-id")||e[i].getAttribute("data-addsearch-field-id")==r)addsearch.field=e[i];t=!0}if(t==0){addsearch.log('AddSearch init error: Input field with class "addsearch" not found!');return}var s=document.createElement("div");s.setAttribute("id","addsearch-results"),addsearch_searchsettings&&addsearch_searchsettings.css_results_position?s.style.position=addsearch_searchsettings.css_results_position:s.style.position="absolute",s.style.display="none",s.style.zIndex="9999999",s.onclick=function(e){return addsearch.stopPropagation(e),!1},document.body.appendChild(s),document.getElementById("addsearch-results").innerHTML=addsearch_html,setTimeout("addsearch.attachBodyClick();",1e3),setTimeout("addsearch.attachResize();",1e3),addsearch.get("results-mid").addEventListener?(addsearch.get("results-mid").addEventListener("wheel",function(e){return addsearch.wheel(e)},!1),addsearch.get("results-mid").addEventListener("mousewheel",function(e){return addsearch.wheel(e)},!1),addsearch.get("results-mid").addEventListener("DOMMouseScroll",function(e){return addsearch.wheel(e)},!1)):addsearch.get("results-mid").onmousewheel=function(e){return addsearch.wheel(e)},addsearch.get("scroll-handle").onmousedown=function(e){return addsearch.scrollBarDown(e)},addsearch.get("scroll-handle").onmouseup=function(e){return addsearch.scrollBarUp()},addsearch.get("scroll-handle").onmousemove=function(e){return addsearch.scrollBarMove(e)};if(n&&n.indexOf("addsearch-edit")!=-1){var o=addsearch.get("edit");o.innerHTML="Additional keywords: foo, bar, baz, boo"}addsearch.getSettingAttribute("link_target")!=null&&(addsearch.linkTarget=addsearch.getSettingAttribute("link_target"));var u=document.getElementsByTagName("script");if(u)for(var i=0;i<u.length;i++)if(u[i]&&u[i].src&&u[i].src!=null&&u[i].src.indexOf("addsearch.com/js/?key=")!=-1){u[i].src.indexOf("categories=")!=-1&&(addsearch.categoryFilters=u[i].src.substring(u[i].src.indexOf("categories=")),addsearch.categoryFilters.indexOf("&")!=-1&&(addsearch.categoryFilters=addsearch.categoryFilters.substring(0,addsearch.categoryFilters.indexOf("&"))));break}if(n&&n.indexOf("addsearch=")!=-1){var a=n.substring(n.indexOf("addsearch=")+10);a=decodeURIComponent(a),a.indexOf(",f=")!=-1&&(a=a.substring(0,a.indexOf(",f="))),addsearch.focus(),addsearch.search(a,0),addsearch.field.value=a,addsearch.field.focus(),setTimeout("addsearch.showResults();",500)}},attachBodyClick:function(){var e=document.body;e.attachEvent?e.attachEvent("onclick",function(){if(addsearch.scrollBarInUse==1)return;addsearch.hideResults()}):e.addEventListener&&e.addEventListener("click",function(){if(addsearch.scrollBarInUse==1)return;addsearch.hideResults()},!1)},attachResize:function(){window.attachEvent?window.attachEvent("onresize",function(){addsearch.device!="mobile"&&addsearch.addCss()}):window.addEventListener&&window.addEventListener("resize",function(){addsearch.device!="mobile"&&addsearch.addCss()},!1)},over:function(e){addsearch.fieldFirstAccessed(),addsearch.hide("pic")},focus:function(){addsearch.fieldFirstAccessed(),addsearch.firstFocusDone==0&&(addsearch.addCss(),addsearch.startt=(new Date).getTime(),addsearch.search("_addsearch_"+Math.random(),0),addsearch.field.value="",addsearch.firstFocusDone=!0),addsearch.field.getAttribute("data-addsearch-categories")&&addsearch.field.getAttribute("data-addsearch-categories")!=null?addsearch.categoryFilters="dynamic&categories="+addsearch.field.getAttribute("data-addsearch-categories"):addsearch.categoryFilters&&addsearch.categoryFilters.indexOf("dynamic&")==0?addsearch.categoryFilters=null:addsearch.field.value!=""&&addsearch.field.value==(addsearch.searchTerm+"").replace("~","")&&addsearch.showResults(),addsearch.device=="mobile"&&(addsearch.autoScroll=!0,addsearch.get("results-mid").scrollTop=0),addsearch.mobileSupported()==1&&addsearch.device!="mobile"&&setTimeout("addsearch.addCss();",200)},fieldFirstAccessed:function(){if(addsearch.firstHoverDone==0){var e="v"+Math.random();for(var t=0;t<addsearch.hostsCdn.length;t++)(new Image).src="https://"+addsearch.hostsCdn[t]+"/i.gif?"+e;addsearch.get("results-pic-img").src="https://d20vwa69zln1wj.cloudfront.net/x.gif",addsearch.get("logo-img").src="https://addsearch.com/www/script/v2/logo.gif",addsearch.get("loading").src="https://addsearch.com/www/script/v1/loading.gif",addsearch.get("result-pic-td").style.backgroundImage="url( https://addsearch.com/www/script/v1/loading.gif )",addsearch.detectLanguage();var n=addsearch.getUiLanguage();if(n&&n!="en"&&addsearch.languages.indexOf(n)!=-1){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://addsearch.com/www/script/v2/i18n/"+n+".js",document.body.appendChild(r)}addsearch.stats("ping",null),addsearch.firstHoverDone=!0}},showResults:function(){var e="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft,i=addsearch.field.getBoundingClientRect(),s=0;try{s=document.body.getBoundingClientRect().left}catch(o){}if(addsearch.device!="mobile"){window.addsearchExtend&&addsearchExtend=="wix"&&(Wix.setHeight(640),addsearch.linkTarget="_top");var u=780;e<=780&&(u=580);var a=null;e-(e-i.right)>=u&&e-i.left>=u?(a="left",e-i.left>e-(e-i.right)&&(a="right")):e-(e-i.right)>=u?a="left":e-i.left>=u?a="right":addsearch.get("results").style.left=r+"px",addsearch.getSettingAttribute("results_opening_direction")!=null&&(a=addsearch.getSettingAttribute("results_opening_direction")),a=="left"?addsearch.get("results").style.left=r+i.right-u-s+"px":a=="right"&&(addsearch.get("results").style.left=i.left+r-s+"px"),addsearch_searchsettings&&addsearch_searchsettings.css_results_position&&addsearch_searchsettings.css_results_position=="fixed"?addsearch.get("results").style.top=i.bottom+"px":addsearch.get("results").style.top=n+i.bottom+"px"}addsearch.show("results")},mobileResize:function(){var e="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight;document.body.style.width=e+"px",document.body.style.height=t+"px",document.getElementById("addsearch-mobile-wrapper").style.width=e+"px",document.getElementById("addsearch-mobile-wrapper").style.height=t+"px",document.getElementById("addsearch-results").style.width=e+"px",document.getElementById("addsearch-results").style.height=t-40+"px",document.getElementById("addsearch-results-mid").style.width=e+"px",document.getElementById("addsearch-results-mid").style.height=t-40+"px",document.getElementById("addsearch-mobile-field").style.width=e-42+"px",window.scrollTo(0,0)},mobileSupported:function(){if(!document.getElementsByTagName("head")||document.getElementsByTagName("head").length<1)return!1;var e=document.getElementsByTagName("meta");if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.getAttribute("name")=="addsearch.mobile"&&n.getAttribute("content")=="disabled")return!1}if(addsearch.getSettingAttribute("mobile_disable")!=null)return!1;if(window.location.hash&&window.location.hash.indexOf("as-mobile")!=-1)return!0;if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||/(Android 4)/g.test(navigator.userAgent)||/(Android 5)/g.test(navigator.userAgent)||/(Android 6)/g.test(navigator.userAgent)||/(Android 7)/g.test(navigator.userAgent)||/(Android 8)/g.test(navigator.userAgent))return!0;if(/(Windows Phone 8)/g.test(navigator.userAgent)||/(Windows Phone 9)/g.test(navigator.userAgent)){var r=document.querySelector('meta[name="viewport"]');if(r){var i=r.getAttribute("content");i||(i="");if(i.indexOf("width=device-width")!=-1)return!0}}return!1},device:"unknown",cssFileLoaded:!1,customCssFileLoaded:!1,addCss:function(){var e="https://app.addsearch.com/www/script/"+addsearch.version+"/1.css?r="+Math.random();if(addsearch.cssFileLoaded==0){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")&&document.getElementsByTagName("head")[0]?document.getElementsByTagName("head")[0].appendChild(t):document.body.appendChild(t),addsearch.cssFileLoaded=!0}if(addsearch.customCssFileLoaded==0&&addsearch_custdata.custom_css_version>0){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://"+addsearch.hostsCdn[0]+"/"+addsearch_custdata.key+"/css/"+addsearch_custdata.custom_css_version+".css"),document.getElementsByTagName("head")&&document.getElementsByTagName("head")[0]?document.getElementsByTagName("head")[0].appendChild(t):document.body.appendChild(t),addsearch.customCssFileLoaded=!0}var n="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,r="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,i=window.location.hash;if(n<591&&addsearch.mobileSupported()==1&&addsearch.firstFocusDone==1){var s=document.createElement("meta");s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"),document.getElementsByTagName("head")[0].appendChild(s);var o='<div id="addsearch-mobile-wrapper" style="display: none; width: 100%; height: 100%; background-color: #fff;"><div id="header" style="position: absolute; top:0; left: 0; width: 100%; height: 40px; padding: 0; margin: 0;"><input type="text" id="addsearch-mobile-field" placeholder="'+addsearch_i18n.mobilefield+'" autocomplete="off" onclick="addsearch.stopPropagation(this); return false;" onmouseover="addsearch.over(this);" onfocus="addsearch.focus();" onblur="addsearch.blur(this);" onkeyup="addsearch.keyup(this);" onkeydown="return addsearch.keydown(this);" style="margin: 0; padding: 0 0 0 20px; vertical-align: baseline; font-size: 20px;box-sizing:border-box;height: 40px;border: 1px solid #ccc; outline: none;background-color: #fff;-webkit-appearance: none;border-radius: 0;" />'+'<div onclick="window.location.reload(false);" style="position: absolute;top: 0;right: 0;box-sizing:border-box;width: 40px; height: 40px;background: #fff url( //addsearch.com/www/script/beta/mobile-close1.gif ) no-repeat 50% 50%;border-top: 1px solid #ccc;border-bottom: 1px solid #ccc;"></div>'+"</div>"+document.getElementById("addsearch-results").outerHTML+"</div>";document.body.innerHTML="";var u="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,a="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight;document.body.style.height=a+"px",document.body.style.width=u+"px",document.body.style.background="#fff",document.body.style.margin="0",document.body.style.padding="0",document.body.innerHTML=o,document.getElementById("addsearch-results").style.position="absolute",document.getElementById("addsearch-results").style.top="40px",document.getElementById("addsearch-results").style.left="0",document.getElementById("addsearch-results-mid").style.width=n+"px",document.getElementById("addsearch-results-mid").style.height=r+"px",document.getElementById("addsearch-mobile-wrapper").style.display="block",/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?document.getElementById("addsearch-results-mid").addEventListener("touchstart",function(e){document.getElementById("addsearch-mobile-field").blur()}):document.getElementById("addsearch-results-mid").addEventListener("scroll",function(e){document.getElementById("addsearch-mobile-field").blur()}),setTimeout('document.getElementById("addsearch-mobile-field").blur();',600),setTimeout("addsearch.mobileResize();",400),setTimeout("window.onresize = function() { addsearch.mobileResize(); };",600),addsearch.device="mobile",addsearch.get("results").setAttribute("class","addsearch-m"),addsearch.field=addsearch.get("mobile-field"),addsearch.field.setAttribute("data-addsearch-field","mobile")}else n<=780?(addsearch.resetMobileView(),addsearch.get("results").setAttribute("class","addsearch-t"),addsearch.get("results").style.height="576px",addsearch.device="tablet"):(addsearch.resetMobileView(),addsearch.get("results").setAttribute("class","addsearch-d"),addsearch.get("results").style.height="576px",addsearch.device="desktop")},resetMobileView:function(){addsearch.get("results").style.height="auto",addsearch.get("results").setAttribute("class","addsearch-d"),addsearch.get("results").addEventListener("touchstart",function(e){}),document.body.style.overflow=="hidden"&&(document.body.style.overflow="",document.body.style.height="auto");if(addsearch.get("mobile-field")){var e=document.getElementsByTagName("input");if(e&&e.length>0)for(var t=0;t<e.length;t++)if(e[t].getAttribute("data-addsearch-field")){addsearch.field=e[t],addsearch.field.style.visibility="visible";break}addsearch.hide("mobile-field")}},blur:function(e){},keydown:function(e){addsearch.firstFocusDone==0&&addsearch.focus();var e=e||window.event;return(e.keyCode==40||e.keyCode==9)&&addsearch.activeResultItem==0&&addsearch.resultDocs.length>0?(addsearch.showResults(),addsearch.get("field-tab").focus(),!1):(e.keyCode==40||e.keyCode==9)&&addsearch.activeResultItem>0?(addsearch.setActiveResultItem(addsearch.activeResultItem+1),!1):e.keyCode==38||e.keyCode==9&&e.shiftKey?(addsearch.activeResultItem>0&&addsearch.setActiveResultItem(addsearch.activeResultItem-1),!1):(clearTimeout(addsearch.screenCaptureLoadingTimer),!0)},keyup:function(e){var e=e||window.event;if(addsearch.firstKeystrokeDone==0){addsearch.stats("search",null),addsearch.firstKeystrokeDone=!0;if(window.location.href.indexOf("addsearch.com/demo/")!=-1&&typeof ga!="undefined")try{ga("send","event","demosearch",addsearch_custdata.key)}catch(t){}}addsearch.pauseDetectorTimer!=null&&clearTimeout(addsearch.pauseDetectorTimer),addsearch.pauseDetectorTimer=setTimeout("addsearch.pauseDetector();",addsearch.pauseDetectorTimeout);if(e.keyCode==13&&addsearch.getSettingAttribute("disable_searchfield_enter")!=null)return addsearch.preventDefault(e),!1;if(e.keyCode==13&&addsearch.activeResultItem>0)return addsearch.enterKey(),!1;if(e.keyCode==13&&addsearch.resultDocs.length>0)return addsearch.showResults(),addsearch.get("field-tab").focus(),addsearch.setActiveResultItem(1),addsearch.getSettingAttribute("screenreader_support")!=null&&(addsearch.get("result-item-1").getElementsByTagName("a")[0].focus(),addsearch.limitFrom=addsearch.limitFrom+4,addsearch.search(addsearch.searchTerm,addsearch.limitFrom)),!1;if(e.keyCode==27)return addsearch.get("results").style.display=="block"?addsearch.hideResults():addsearch.showResults(),!1;addsearch.screenCaptureLoadingTimer=setTimeout("addsearch.preloadScreenCaptures();",addsearch.screenCaptureLoadingTimeout);var n=addsearch.trim(addsearch.field.value.toLowerCase());n=n.replace(/-/g," "),n=n.replace(/\//g," "),n=addsearch.trim(n);if(n=="")return!1;addsearch.terms.push(n),addsearch.search(n,0),addsearch.showResults();if(addsearch.device!="mobile"){var r="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,i=addsearch.field.getBoundingClientRect(),s=addsearch.get("results").getBoundingClientRect();if(r-i.bottom<s.bottom-s.top){var o=window.pageYOffset,u=40;addsearch.getSettingAttribute("searchfield_autoscroll_margin")!=null&&(u=addsearch.getSettingAttribute("searchfield_autoscroll_margin"));var a=addsearch.field.offsetTop-u,f=a-o;f>0&&addsearch.smoothScroll(f,10,0)}}},smoothScroll:function(e,t,n){if(n>=t)return;window.scrollBy(0,e/t),setTimeout(function(){addsearch.smoothScroll(e,t,n+1)},8)},wheel:function(e){var t=addsearch.get("results-mid");e=e||window.event;var n=e.wheelDelta||-e.detail;if(isNaN(n))return addsearch.preventDefault(e);var r=t.scrollTop,i=200,s=addsearch.calculateScrollHandlePos();addsearch.setScroll(s,i);if(t.offsetHeight+r>=t.scrollHeight&&n<0)return addsearch.preventDefault(e);if(r==0&&n>0)return addsearch.preventDefault(e);addsearch.stopPropagation(e)},calculateScrollHandlePos:function(){var e=addsearch.get("results-mid"),t=e.scrollHeight,n=e.scrollTop,r=addsearch.get("scroll").offsetHeight,i=200;return Math.round(n/(t-r)*(r-i))},setScroll:function(e,t){var n=addsearch.get("scroll-handle");n.style.top=e+"px",n.style.height=t-4+"px",addsearch.resultDocs.length<4?n.style.visibility="hidden":n.style.visibility="visible"},scrollBarInitialized:!1,scrollBarInUse:!1,scrollBarEventStart:0,scrollBarHandleStart:0,scrollBarDown:function(e){addsearch.scrollBarEventStart=e.pageY,addsearch.scrollBarHandleStart=parseInt(addsearch.get("scroll-handle").style.top,10),addsearch.scrollBarInUse=!0},scrollBarUp:function(){addsearch.scrollBarEventStart=0,addsearch.scrollBarHandleStart=0,addsearch.scrollBarInUse=!1,setTimeout("addsearch.setScroll(addsearch.calculateScrollHandlePos(), 200);",50)},scrollBarMove:function(e){if(addsearch.scrollBarEventStart==0)return;if(addsearch.scrollBarInitialized==0){var t=document.body;t.attachEvent?t.attachEvent("onmousemove",function(e){return addsearch.scrollBarMove(e),!1}):t.addEventListener&&t.addEventListener("mousemove",function(e){return addsearch.scrollBarMove(e),!1},!1),t.attachEvent?t.attachEvent("onmouseup",function(){setTimeout("addsearch.scrollBarUp();",10)}):t.addEventListener&&t.addEventListener("mouseup",function(){setTimeout("addsearch.scrollBarUp();",10)},!1),addsearch.scrollBarInitialized=!0}if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var n=window.getSelection();n&&n.removeAllRanges&&n.removeAllRanges()}var r=parseInt(addsearch.get("scroll").offsetHeight);if(!e.pageY)return;var i=addsearch.scrollBarHandleStart+e.pageY-addsearch.scrollBarEventStart;i<0?i=0:i>r-200&&(i=r-200),addsearch.setScroll(i,200);var s=i/(r-200),o=addsearch.get("results-mid"),u=parseInt(o.scrollHeight),a=Math.round((u-r)*s);return s>95&&(a+=20),o.scrollTop=a,addsearch.scroll(e),!1},limitFrom:0,autoScroll:!1,scroll:function(e){if(addsearch.autoScroll==1){addsearch.autoScroll=!1;return}var t=addsearch.get("results-mid");t.offsetHeight+t.scrollTop>=t.scrollHeight&&(addsearch.limitFrom=addsearch.limitFrom+4,addsearch.search(addsearch.searchTerm,addsearch.limitFrom))},mousedown:function(e){var t="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth;addsearch.device=="mobile"||t<769},tabKeydown:function(e){var e=e||window.event;return(e.keyCode==38||e.keyCode==9&&e.shiftKey)&&addsearch.activeResultItem==1?(addsearch.field.focus(),addsearch.setActiveResultItem(0)):e.keyCode==38||e.keyCode==9&&e.shiftKey?addsearch.setActiveResultItem(addsearch.activeResultItem-1):(e.keyCode==40||e.keyCode==9)&&addsearch.setActiveResultItem(addsearch.activeResultItem+1),!1},tabKeyup:function(e){var e=e||window.event;return e.keyCode==27?(addsearch.field.focus(),addsearch.setActiveResultItem(0)):e.keyCode==13&&addsearch.activeResultItem>0&&addsearch.enterKey(),!1},tabFocus:function(e){addsearch.setActiveResultItem(1)},preloadScreenCaptures:function(){addsearch.log("Preloading captures..")},enterKey:function(){var e=addsearch.get("result-item-"+addsearch.activeResultItem);e&&e.childNodes[0]&&(e.childNodes[0].onmousedown(),e.childNodes[0].onclick())},setActiveResultItem:function(e){e.indexOf&&e.indexOf("addsearch-result-item-")==0&&(e=parseInt(e.substring(22)));if(e==addsearch.activeResultItem)return;(!document.activeElement||!document.activeElement.id||document.activeElement!=addsearch.field&&document.activeElement.id!="addsearch-field-tab")&&addsearch.device!="mobile"&&addsearch.field.focus(),addsearch.activeResultItem!=0&&addsearch.get("result-item-"+addsearch.activeResultItem)&&(addsearch.get("result-item-"+e)||e==0)&&(addsearch.hide("pic"),addsearch.get("result-item-"+addsearch.activeResultItem).setAttribute("class","addsearch-result-item-sub")),e!=0&&addsearch.get("result-item-"+e)?(addsearch.get("results-pic-img")&&(addsearch.get("results-pic-img").src=addsearch.get("result-item-"+e).getAttribute("data-img"),addsearch.get("results-pic-img").onerror=function(){this.src="https://addsearch.com/www/script/beta/placeholder1.gif"}),addsearch.get("result-item-"+e).setAttribute("class","addsearch-result-item-sub addsearch-result-item-sub-active"),addsearch.activeResultItem=e,addsearch.show("pic")):e==0&&(addsearch.activeResultItem=0,addsearch.device!="mobile"&&(addsearch.autoScroll=!0,addsearch.log("jump top"),addsearch.get("results-mid").scrollTop=0))},log:function(e){},pauseDetector:function(){addsearch.searchTerm!=""&&addsearch.searchTerm==addsearch.searchResultsTerm&&addsearch.stats("pause",null)},stats:function(e,t,n){var r=addsearch.searchTerm.replace("~","");if(r.indexOf("_addsearch_")==0&&e!="search")return;var i="a="+e;if(e=="nohit"||e=="click"||e=="scroll"||e=="pause")i=i+"&kw="+encodeURIComponent(r);if(e=="click")i=i+"&d="+t+"&t="+Math.round(((new Date).getTime()-addsearch.startt)/1e3)+"&p="+(addsearch.resultDocs.indexOf(t)+1);else if(e=="scroll"||e=="pause")i=i+"&d="+addsearch.resultDocs.toString();(new Image).src="https://"+addsearch.hostStats+"/event/"+addsearch_custdata.key+"/"+addsearch_suid+"/"+addsearch.startt+".gif?"+i;if(e=="pause"||e=="click"||e=="nohit"){var s="addsearch="+r;n&&n.indexOf("?")!=-1?s="&"+s:s="?"+s;var o="&addsearch-category=",u="";e=="click"?(u="Result+clicked",o+=u):e=="pause"?(u="Results+viewed",o+=u):e=="nohit"&&(u="No+results",o+=u);var a=(n?n:"-")+s+o,f=addsearch.getSettingAttribute("analytics_enabled");if(f!=null&&f=="true"){var l="";addsearch.getSettingAttribute("ga_special_tracker")!=null&&(l=addsearch.getSettingAttribute("ga_special_tracker")+".");if(typeof ga!="undefined")try{ga(l+"send","pageview",a)}catch(c){console.log("err")}if(typeof ga2!="undefined")try{ga2(l+"send","pageview",a)}catch(c){}if(typeof _gaq!="undefined")try{_gaq.push([l+"_trackPageview",a])}catch(c){}if(typeof _paq!="undefined")try{_paq.push(["trackSiteSearch",r,u.replace(/[+]/g," "),!1])}catch(c){}if(typeof LC_API!="undefined")try{var h=[{name:"AddSearch keyword",value:r}];LC_API.set_custom_variables(h)}catch(c){}if(typeof dataLayer!="undefined")try{var p=addsearch.getSettingAttribute("analytics_dataLayer_event")||"VirtualPageview",d=addsearch.getSettingAttribute("analytics_dataLayer_url")||"virtualPageURL",v=addsearch.getSettingAttribute("analytics_dataLayer_title")||"virtualPageTitle",m={};m.event=p,m[d]=a,m[v]="Search results",dataLayer.push(m)}catch(c){console.log("err")}}}},hasFuzzyResults:!1,resultItemHTML:null,ad:null,searchResults:function(e){if(e!=null&&e.q.indexOf("_addsearch_")==0)return;var t=addsearch.get("results-mid"),n=addsearch.get("result-item");addsearch.resultItemHTML==null&&(addsearch.resultItemHTML=n.innerHTML);var r=e.q.indexOf("~")==e.q.length-1;if(addsearch.searchResultsTerm==addsearch.searchTerm&&e.from=="0"&&r==0){addsearch.log("WARN: Older result returned, term "+e.q+" but path is "+addsearch.terms.toString());return}var i=addsearch.get("loading");i.style.visibility="hidden";var s=(new Date).getTime()-addsearch.startT,o=e.es.hits.hits,u=null;e.soc&&e.soc.hits.hits&&(u=e.soc.hits.hits),addsearch.get("load-more")&&addsearch.get("load-more").parentNode.removeChild(addsearch.get("load-more")),addsearch.get("demo")&&addsearch.get("demo").parentNode.removeChild(addsearch.get("demo"));if(e.from!="0"||o.length!=0||!!u&&u.length!=0||r!=0){clearTimeout(addsearch.nohitsTimer),o.length<4&&r==0&&addsearch.getSettingAttribute("disable_fuzzy")==null&&addsearch.search(e.q+"~",0),r==0&&(addsearch.searchResultsTerm=e.q);var l=0;e.from=="0"&&r==0&&(t.innerHTML="",t.appendChild(n),t.appendChild(i),addsearch.resultDocs=new Array,addsearch.hasFuzzyResults=!1);if(addsearch.device!="mobile"&&r&&!addsearch.get("fuzzy")&&addsearch.hasFuzzyResults==0){var c=document.createElement("div");c.setAttribute("id","addsearch-fuzzy");var h=addsearch.htmlEscape(addsearch.searchResultsTerm);c.innerHTML="<span>"+addsearch_i18n.results_similar+" "+h+"</span>",n.parentNode.insertBefore(c,n)}if(e.from=="0"&&r==0&&u&&u.length>0){addsearch.setActiveResultItem(0);var p=document.createElement("div");p.setAttribute("class","addsearch-divider"),p.innerHTML="<span>"+addsearch_i18n.results_social+"</span>",n.parentNode.insertBefore(p,n);var d=document.createElement("div");d.setAttribute("id","addsearch-babbler"),d.style.height="auto",n.parentNode.insertBefore(d,n),d.onmouseover=function(e){addsearch.setActiveResultItem(0),addsearch.stopPropagation(e)};var l;for(l=0;l<u.length;l++){var v=u[l],m=addsearch.buildSocialHit(v,l);m&&d.appendChild(m)}o.length>0&&(p=document.createElement("div"),p.setAttribute("class","addsearch-divider"),p.innerHTML="<span>"+addsearch_i18n.results_web+"</span>",n.parentNode.insertBefore(p,n))}var g=!1;if(addsearch_searchsettings!=null){if(addsearch_searchsettings.title_suffix_filters!=null&&addsearch_searchsettings.title_suffix_filters.length>0){g=!0;for(var l=0;l<o.length;l++)for(var y=0;y<addsearch_searchsettings.title_suffix_filters.length;y++){if(o[l].fields.title==addsearch_searchsettings.title_suffix_filters[y]||!o[l].fields.title)continue;o[l].fields.title&&o[l].fields.title.indexOf(addsearch_searchsettings.title_suffix_filters[y])!=-1&&o[l].fields.title.indexOf(addsearch_searchsettings.title_suffix_filters[y])==o[l].fields.title.length-addsearch_searchsettings.title_suffix_filters[y].length&&(o[l].fields.title=addsearch.trim(o[l].fields.title.substring(0,o[l].fields.title.length-addsearch_searchsettings.title_suffix_filters[y].length)))}}if(addsearch_searchsettings.title_prefix_filters!=null&&addsearch_searchsettings.title_prefix_filters.length>0){g=!0;for(var l=0;l<o.length;l++)for(var y=0;y<addsearch_searchsettings.title_prefix_filters.length;y++){if(o[l].fields.title==addsearch_searchsettings.title_prefix_filters[y])continue;o[l].fields.title&&o[l].fields.title.indexOf(addsearch_searchsettings.title_prefix_filters[y])==0&&(o[l].fields.title=addsearch.trim(o[l].fields.title.substring(addsearch_searchsettings.title_prefix_filters[y].length)))}}}if(g==0&&o.length>1){var b=new Array;for(var l=0;l<o.length;l++)o[l].fields.title||(o[l].fields.title=""),o[l].fields.title.indexOf(" ")!=-1?b[l]=o[l].fields.title.split(" "):(b[l]=new Array,b[l][0]=o[l].fields.title);loop=0;for(;;){var w=null,E=!0;for(var l=0;l<b.length;l++)w==null?w=b[l][b[l].length-1]:w!=b[l][b[l].length-1]&&(E=!1);if(E!=1)break;for(var l=0;l<b.length;l++)b[l].pop();loop++;if(loop>10){addsearch.log("breaking loop");break}}for(var l=0;l<b.length;l++){var S="";for(var y=0;y<b[l].length;y++)if(y<b[l].length-1||b[l][y].match(/[a-zA-Z0-9]/g))S=S+b[l][y]+" ";S=addsearch.trim(S),S!=""&&(o[l].fields.title=S)}}for(var l=0;l<o.length;l++){var S=o[l].fields.title,x=o[l].fields.url,T=o[l]._id,N=addsearch.imgArrGet(e.images,o[l]._id),C=null;l>0&&o[l-1]&&o[l-1]._id&&(C=addsearch.imgArrGet(e.images,o[l-1]._id));if(!S||S==null||S=="")x.indexOf(".pdf")!=-1?(S=x.substring(x.lastIndexOf("/")+1),S.indexOf("%")!=-1&&(S=decodeURIComponent(S))):(S=x.substring(x.indexOf("//")+2),S.length>50&&(S=S.substring(0,50)+".."));S.length>150&&(S=S.substring(0,150)+"..");if(document.getElementById("doc-"+T)||T=="")continue;if(o.length>l+1){var k=!1;o[l].highlight&&o[l].highlight.main_content&&o[l].highlight.main_content.length>0&&o[l+1].highlight&&o[l+1].highlight.main_content&&o[l+1].highlight.main_content.length>0&&o[l].highlight.main_content[0]==o[l+1].highlight.main_content[0]&&(k=!0);if(N&&N.m_hash)var L=addsearch.imgArrGet(e.images,o[l+1]._id);S==o[l+1].fields.title&&L&&N.m_hash==L.m_hash&&(k=!0);if(addsearch.getSettingAttribute("show_price")!=null||addsearch.getSettingAttribute("allow_ui_duplicates")!=null)k=!1;if(k==1){addsearch.limitFrom<10&&r==0&&(addsearch.log("Something was removed, searching more for "+addsearch.searchTerm),addsearch.limitFrom=addsearch.limitFrom+4,addsearch.search(addsearch.searchTerm,addsearch.limitFrom));if(!o[l]._score||!o[l+1]._score)continue;if(!(o[l]._score>o[l+1]._score))continue;o[l+1]._id=""}}addsearch.resultDocs.push(T);if(!o[l].highlight||!o[l].highlight.main_content||o[l].highlight.main_content.length<1)o[l].highlight={},o[l].highlight.main_content=new Array,o[l].fields.main_content?o[l].highlight.main_content[0]=o[l].fields.main_content.substring(0,150):o[l].highlight.main_content[0]=o[l].fields.title;var A=o[l].highlight.main_content[0];do{A=addsearch.trim(A);var O=A.charAt(0);if(O!="."&&O!=","&&O!="-"&&O!="_"&&O!="|"&&O!="/"&&O!="("&&O!=")"&&O!="!"&&O!="?"&&O!=":"&&O!=" ")break;A=A.substring(1)}while(!0);A&&A.length>0&&A.charAt(A.length-1)=="."&&(A=A.substring(0,A.length-2)),A+="&#8230;",r==1&&A&&(A=A.replace(new RegExp("<em>","g"),'<em class="fuzzy">'));if(o[l].fields.metaCategory){var M="";if(o[l].fields.metaCategory.length>0)for(var _=0;_<o[l].fields.metaCategory.length;_++)M+=o[l].fields.metaCategory[_],_<o[l].fields.metaCategory.length-1&&(M+=" &lt; ");addsearch.getSettingAttribute("metacategory_highlight")!=null?A="<span><em>"+M+"</em></span>":A=A+"<span><em>"+M+"</em></span>"}else if(o[l].fields.category&&o[l].fields.category.length>1){var M=o[l].fields.category[1];if(addsearch.getSettingAttribute("category_arr_index")!=null){var D=parseInt(addsearch.getSettingAttribute("category_arr_index"));D>=0&&o[l].fields.category.length>D&&(M=o[l].fields.category[D])}var P=/^[0-9]{1}x[a-zA-Z]{2}[-_]{1}[a-zA-Z]{2}$/;(M.length<5||P.test(M))&&o[l].fields.category[2]&&(M=o[l].fields.category[2]),M.indexOf("x")>0&&(M=M.substring(M.indexOf("x")+1)),M.indexOf(".")>3&&(M=M.substring(0,M.indexOf("."))),M.indexOf("#!")>0&&(M=M.substring(0,M.indexOf("#!"))),M=M.replace(/-/g," "),M=M.replace(/_/g," "),M=M.replace(/[+]/g," ");if(M=="node"||M=="public"||M=="tag"||M=="index"||M.indexOf("doctype")!=-1)M=null;var H=/^\d+$/;if(M!=null&&(H.test(M)==0||addsearch.getSettingAttribute("category_arr_index")!=null)){if(addsearch_searchsettings!=null&&addsearch_searchsettings.category_aliases!=null&&addsearch_searchsettings.category_aliases.length>0)for(var B=0;B<addsearch_searchsettings.category_aliases.length;B++)if(addsearch_searchsettings.category_aliases[B][0]==M){M=addsearch_searchsettings.category_aliases[B][1];break}M.indexOf("%")!=-1&&(M=decodeURIComponent(M));if(addsearch.getSettingAttribute("show_doc_date")!=null&&o[l].fields.doc_date){A+="<span class='doc_date'><em>";var j=o[l].fields.doc_date;j&&j.indexOf("T")>0&&(A+=addsearch.formatDate(j)),A+="</em></span>"}addsearch.getSettingAttribute("show_price")!=null&&o[l].fields.price_cents&&(A+="<span class='price'>",addsearch.getSettingAttribute("currency")=="USD"&&(A+="$"),A+=(o[l].fields.price_cents/100).toFixed(2),addsearch.getSettingAttribute("currency")=="EUR"?A+=" &#8364;":addsearch.getSettingAttribute("currency")&&(A=A+" "+addsearch.getSettingAttribute("currency")),A+="</span>"),addsearch.getSettingAttribute("hide_category")==null&&(A=A+"<span><em>"+M+"</em></span>")}}var O=document.createElement("div");O.innerHTML=addsearch.resultItemHTML.replace(/addsearch-result-item-i/,"addsearch-result-item-"+addsearch.resultDocs.length),O.id="addsearch-result-item-container-"+addsearch.resultDocs.length;var F=o[l].fields.category.indexOf("doctype_pdf")!=-1?"addsearch-result-item-container addsearch-result-type-pdf":"addsearch-result-item-container";O.setAttribute("class",F),n.parentNode.insertBefore(O,n);if(N&&N.c_version>0&&addsearch.getSettingAttribute("no_screen_captures")==null){var I="https://"+addsearch.hostsCdn[l%addsearch.hostsCdn.length]+"/"+addsearch_custdata.key+"/capture/"+o[l]._id+"-"+N.c_version+".jpg";O.childNodes[0].setAttribute("data-img",I),(new Image).src=I}if(N&&N.m_b64&&N.m_hash){O.style.backgroundImage="url( data:image/jpeg;base64,"+N.m_b64+" )",O.style.backgroundRepeat="no-repeat";var q="https://"+addsearch.hostsCdn[l%addsearch.hostsCdn.length]+"/"+addsearch_custdata.key+"/main/"+N.m_hash+"-"+N.m_version+".jpg";O.childNodes[0].style.backgroundRepeat="no-repeat",O.childNodes[0].style.backgroundImage="url( "+q+" )"}else o[l].fields.category&&o[l].fields.category.length>0&&o[l].fields.category.indexOf("doctype_pdf")>-1?(O.childNodes[0].style.backgroundSize="48px 48px",O.childNodes[0].style.backgroundRepeat="no-repeat",O.childNodes[0].style.backgroundPosition="55px 50%",O.childNodes[0].style.backgroundImage="url( //addsearch.com/www/script/v3/pdf_48.png )"):(O.childNodes[0].style.backgroundRepeat="no-repeat",O.childNodes[0].style.backgroundImage="url( //addsearch.com/www/script/beta/placeholder1.gif )");O.childNodes[0].childNodes[0].childNodes[0].childNodes[0].innerHTML=S,O.childNodes[0].childNodes[0].childNodes[1].innerHTML=addsearch.trim(A),O.childNodes[0].childNodes[0].setAttribute("id","doc-"+T),O.childNodes[0].childNodes[0].setAttribute("data-doc",T);var R=x;R.indexOf("#")!=-1&&R.indexOf("#!")==-1&&(R=R.substring(0,R.indexOf("#")));if(addsearch.getSettingAttribute("pass_keyword_with_link")){var U=addsearch.getSettingAttribute("pass_keyword_with_link")+"="+encodeURIComponent((addsearch.searchTerm+"").replace("~",""));R=R.indexOf("?")!=-1?R+"&"+U:R+"?"+U}O.childNodes[0].childNodes[0].childNodes[0].childNodes[0].href=R,O.childNodes[0].childNodes[0].childNodes[0].childNodes[0].setAttribute("data-doc",T),addsearch.linkTarget&&addsearch.linkTarget!=null&&(O.childNodes[0].childNodes[0].childNodes[0].childNodes[0].target=addsearch.linkTarget),O.childNodes[0].childNodes[0].onmousedown=function(e){var t=window.location+"";if(window.history&&addsearch.device!="mobile"&&t.indexOf("#!")==-1&&addsearch.getSettingAttribute("no_back_hash")==null){var n=(addsearch.searchTerm+"").replace("~","");addsearch.field.getAttribute("data-addsearch-field-id")&&(n=n+",f="+addsearch.field.getAttribute("data-addsearch-field-id")),window.history.pushState(null,"Search: "+n,location.pathname+"#addsearch="+n)}addsearch.stats("click",this.getAttribute("data-doc"),this.childNodes[0].childNodes[0].href),addsearch.getSettingAttribute("custom_onclick_function")!=null},O.childNodes[0].childNodes[0].onclick=function(e){var t=null;addsearch.getSettingAttribute("pass_keyword_with_link")&&(t=addsearch.getSettingAttribute("pass_keyword_with_link")+"="+encodeURIComponent((addsearch.searchTerm+"").replace("~","")));var n=this.childNodes[0].childNodes[0].href;t&&n.indexOf(t)==-1&&(n=n.indexOf("?")!=-1?n+"&"+t:n+"?"+t),addsearch.linkTarget&&addsearch.linkTarget!=null?window.open(n,addsearch.linkTarget):window.location=n,e&&e.stopPropagation()},n.parentNode.insertBefore(O,n),O.style.display="block",r&&(addsearch.hasFuzzyResults=!0)}}else if(addsearch.nohitsTimer==null){var a=document.createElement("div");a.setAttribute("id","addsearch-nohits-new");var f=addsearch.searchResultsTerm.replace("~","");a.innerHTML="<p>"+addsearch_i18n.results_none+" <em>"+f+"*</em></p>",a.style.display="none",t.insertBefore(a,t.childNodes[0]),addsearch.nohitsTimer=setTimeout("addsearch.showNohits();",addsearch.nohitsTimeout)}e.from=="0"&&r==0?(addsearch.setActiveResultItem(0),addsearch.setScroll(0,200)):addsearch.resultDocs.length>3&&addsearch.scrollBarUp();if(window.location.href.indexOf("addsearch.com/demo/")!=-1&&addsearch.device!="mobile"){var z=document.createElement("div");z.setAttribute("id","addsearch-demo"),z.innerHTML="<span>Thanks for trying out the AddSearch demo!<br /><br />Please notice that this demo is initially limited to 50 pages and might not include all of your pages.</span>",n.parentNode.insertBefore(z,n)}else if(addsearch.device=="mobile"){var z=document.createElement("div");z.setAttribute("id","addsearch-demo"),z.style.width="1px",z.innerHTML='<span style="background: none;"></span>',n.parentNode.insertBefore(z,n)}addsearch.hasFuzzyResults==0&&addsearch.hide("fuzzy");var W=(new Date).getTime()-addsearch.startT;addsearch.log("json: "+s+", render: "+W)},socialImages:new Array,buildSocialHit:function(e,t){if(!e.fields||!e.fields.category||e.fields.category.length==0||e.fields.category[0].indexOf("0x")!=0)return;var n=e.fields.category[0];n=n.substring(2).toLowerCase();var r=JSON.parse(e.fields.terms_meta),i=null,s=null,o=null,u=null,a=null;if(n=="twitter"){if(!r.twitter||!r.twitter.accountScreenName||!r.twitter.accountFullName||!r.twitter.tweetExtId)return;i=r.twitter.accountScreenName,s=r.twitter.tweetExtId,o=r.twitter.accountFullName,u="https://twitter.com/"+i,a="https://twitter.com/"+i+"/status/"+s}else if(n=="facebook"){if(!r.permaLink||!r.facebook||!r.facebook.accountScreenName||!r.facebook.accountFullName)return;i=r.facebook.accountScreenName,o=r.facebook.accountFullName,s="fb"+e._id,u="https://www.facebook.com/"+i,a=r.permaLink}addsearch.resultDocs.push(e._id);var f="https://"+addsearch.hostsCdn[0]+"/"+addsearch_custdata.key+"/social/"+n+"_"+i.toLowerCase()+"_mini.png?"+t,l=null;if(addsearch.socialImages.length>0)for(var c=0;c<addsearch.socialImages.length;c++)if(addsearch.socialImages[c].src==f){l=addsearch.socialImages[c];break}l==null&&(l=new Image,l.src=f,l.width="24",l.height="24",addsearch.socialImages.push(l));var h=addsearch_social;h=h.replace(new RegExp("\\$id","g"),s),h=h.replace(new RegExp("\\$accountlink","g"),u),h=h.replace(new RegExp("\\$permalink","g"),a),h=h.replace(new RegExp("\\$handle","g"),i);var p=document.createElement("div");p.setAttribute("class","bab_tw"),p.innerHTML=h,p.id="addsearch-social-item-"+t;var d=e.fields.main_content;e.highlight&&e.highlight.main_content&&e.highlight.main_content.length>0&&(d=e.highlight.main_content[0]);if(n=="twitter"){if(r.twitter.links)for(var c=0;c<r.twitter.links.length;c++){var v=r.twitter.links[c];d=d.replace(v.text,'<a href="'+v.url+'" onclick="window.open(this.href);return false;">'+v.displayUrl+"</a>")}d=d.replace(/(^|[^@\w])@(\w{1,15})\b/g,'$1<a href="https://twitter.com/$2" onclick="window.open(this.href);return false;">@$2</a>'),p.getElementsByClassName("bab_tw_actions")[0].style.display="",p.getElementsByClassName("bab_tw_handle")[0].style.display="",p.getElementsByClassName("bab_tw_handle")[0].innerHTML="@"+i;var m=p.getElementsByClassName("bab_tw_actions")[0].childNodes;for(var c=0;c<m.length;c++)m[c].onclick=function(e){return window.open(this.href,"","height=550,width=550"),!1}}else n=="facebook"&&(p.setAttribute("class","bab_tw bab_fb"),d=d.replace(/(\b(https?):\/\/[-A-Z0-9+&amp;@#\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\/%=~_|])/ig,'<a href="$1" onclick="window.open(this.href);return false;">$1</a>'),d=d.replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'<a href="http://$1" onclick="window.open(this.href);return false;">$1</a>'));return p.childNodes[1].getElementsByTagName("a")[0].appendChild(l),p.getElementsByClassName("bab_name")[0].innerHTML=o,p.getElementsByClassName("bab_time")[0].childNodes[0].innerHTML=e.fields.doc_date?addsearch.prettyDate(e.fields.doc_date):"-",p.childNodes[2].innerHTML=d,p},formatDate:function(e){var t=new Date(e);return addsearch_i18n.month_arr[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},prettyDate:function(e){var t=e.replace(/-/g,"/").replace(/[TZ]/g," ");t.indexOf(".000")!=-1&&(t=t.substring(0,t.indexOf(".000")));var n=new Date(t),r=new Date,i=r.getTime()+r.getTimezoneOffset()*6e4,s=(i-n.getTime())/1e3,o=Math.floor(s/86400);return isNaN(o)||o<0?"-":o>=31&&n.getFullYear()<r.getFullYear()?addsearch_i18n.month_arr[n.getMonth()]+" "+n.getFullYear():o>=31?n.getDate()+" "+addsearch_i18n.month_arr[n.getMonth()]:o==0&&(s<60&&addsearch_i18n.date_now||s<120&&addsearch_i18n.date_1min||s<3600&&Math.floor(s/60)+addsearch_i18n.date_mins||s<7200&&addsearch_i18n.date_1hour||s<86400&&Math.floor(s/3600)+addsearch_i18n.date_hours)||o==1&&addsearch_i18n.date_yesterday||o<7&&o+addsearch_i18n.date_days||o<31&&Math.ceil(o/7)+addsearch_i18n.date_weeks},showNohits:function(){addsearch.stats("nohit",null);var e=addsearch.get("nohits");e&&e.parentNode.removeChild(e),addsearch.get("nohits-new")&&(addsearch.get("nohits-new").id="addsearch-nohits",addsearch.get("nohits").style.display="block"),addsearch.nohitsTimer=null},startT:0,search:function(e,t){addsearch.startT=(new Date).getTime();if(!e||e=="")return;if(e==addsearch.searchTerm&&t==0)return;clearTimeout(addsearch.loadingTimer),addsearch.get("loading").style.display="block",addsearch.get("loading").style.visibility="visible",addsearch.loadingTimer=setTimeout('document.getElementById("addsearch-loading").style.visibility = "hidden";',2e3),addsearch.limitFrom=t,addsearch.searchTerm=e,addsearch.log("Search: "+e);var n=addsearch.get("jsonp");n?n.removeChild(n.childNodes[0]):(n=document.createElement("div"),n.id="addsearch-jsonp");var r=document.createElement("script");r.type="text/javascript";var i="";addsearch.language&&(i=addsearch.language+"/"),addsearch_searchsettings&&addsearch_searchsettings.ignore_multi_language&&(addsearch_searchsettings.ignore_multi_language=="true"||addsearch_searchsettings.ignore_multi_language==1)&&(i="");var s="";addsearch.categoryFilters!=null&&(s="&"+addsearch.categoryFilters.toLowerCase());var o=e;o=o.replace(/ and /g," AND ").replace(/ or /g," OR ").replace(/ not /g," NOT "),o=encodeURIComponent(o),r.src="https://"+addsearch_custdata.search_shard+".searchcdn.com/"+addsearch_custdata.key+"/"+o+"/"+t+"/"+addsearch_custdata.cache_purge+"/"+i+"?s="+addsearch.startt+s,n.appendChild(r),document.body.appendChild(n)},getShortHighlight:function(e){var t=e.indexOf("<em>"),n=e.indexOf("</em>");if(t==-1||n<=t)return e.substring(30);var r=e,i=6;t<10&&(i=15);var s=r.indexOf(" ",n+i);return s>n&&(r=r.substring(0,s)),t>15&&(s=r.indexOf(" ",t-15),s!=-1&&s<t&&(r=r.substring(s))),addsearch.trim(r)},language:null,detectLanguage:function(){if(addsearch.language!=null)return;var e=null,t=document.getElementsByTagName("html")[0];t&&(e=t.getAttribute("lang"),e||(e=t.getAttribute("xml:lang")));if(!e){var n=document.getElementsByTagName("meta");if(n)for(var r=0;r<n.length;r++){var i=n[r];i&&i.getAttribute("name")&&i.getAttribute("name").toLowerCase()=="dc.language"&&(e=i.getAttribute("content")),i&&i.getAttribute("http-equiv")&&i.getAttribute("http-equiv").toLowerCase()=="content-language"&&(e=i.getAttribute("content"))}}e&&e.length>2&&(e=e.substring(0,2)),e&&(addsearch.language=e.toLowerCase())},getUiLanguage:function(){var e=addsearch.getSettingAttribute("ui_lang");return e!=null?e:addsearch.language!=null?addsearch.language:"en"},i18n:function(e){addsearch_i18n=e},getSettingAttribute:function(e){return addsearch_searchsettings&&addsearch_searchsettings.attributes&&addsearch_searchsettings.attributes[e]?addsearch_searchsettings.attributes[e]:null},getUserDefinedSetting:function(e){return typeof addsearch_settings!="undefined"&&addsearch_settings?addsearch_settings[e]:null},get:function(e){return document.getElementById("addsearch-"+e)},show:function(e){addsearch.get(e)&&(addsearch.get(e).style.display="block")},hide:function(e){addsearch.get(e)&&(addsearch.get(e).style.display="none")},hideResults:function(){addsearch.hide("results"),window.addsearchExtend&&addsearchExtend=="wix"&&Wix.setHeight(50)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},htmlEscape:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},imgArrGet:function(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].doc==t)return e[n];return null},stopPropagation:function(e){e&&e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)},preventDefault:function(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,addsearch.stopPropagation(e),!1}};Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1}),addsearch.init()
